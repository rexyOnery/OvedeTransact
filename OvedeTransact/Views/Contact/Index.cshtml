
@{
    ViewData["Title"] = "Index";
}

<style>
    .hidden {
        display: none;
    }
</style>
<!-- App Capsule -->
<div id="appCapsule">

    <div class="section mt-2">
        <div class="card">
            <div class="card-body">
                <div class="p-1">
                    <div class="text-center">
                        <h2 class="text-primary">Get in Touch</h2>
                        <p>Fill the form to contact us</p>
                    </div>
                    <form>
                        <div class="form-group basic animated">
                            <div class="input-wrapper">
                                <label class="label" for="name2">Message Title</label>
                                <input type="text" class="form-control" id="name2" placeholder="Your message title">
                                <i class="clear-input">
                                    <ion-icon name="close-circle"></ion-icon>
                                </i>
                            </div>
                        </div>

                        <div class="form-group basic animated">
                            <div class="input-wrapper">
                                <label class="label" for="email2">E-mail</label>
                                <input type="text" class="form-control" id="email2" placeholder="E-mail">
                                <i class="clear-input">
                                    <ion-icon name="close-circle"></ion-icon>
                                </i>
                            </div>
                        </div>

                        <div class="form-group basic animated">
                            <div class="input-wrapper">
                                <label class="label" for="textarea2">Message</label>
                                <textarea id="textarea2" rows="4" class="form-control"
                                          placeholder="Message"></textarea>
                                <i class="clear-input">
                                    <ion-icon name="close-circle"></ion-icon>
                                </i>
                            </div>
                        </div>

                        <div class="mt-2">
                            <a href="javascript:btnSendMessage();" id="btnSendMessage" class="btn btn-primary btn-lg btn-block">Send</a>
                            <button class="btn btn-primary btn-block shadowed hidden" type="button" disabled id="btnProgress">
                                <span class="spinner-border spinner-border-sm mr-05" role="status" aria-hidden="true"></span>
                                Processing...
                            </button>
                        </div>
                        <div class="section mt-5 text-center">
                            <a href="#" data-toggle="modal" data-target="#ModalBasic">Procedure for Transactions on Brigho</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="section mt-2">
        <div class="card">
            <div class="card-body">
                <div class="p-1">
                    <div class="text-center">
                        <h2 class="text-primary">Our Address</h2>
                        <p class="card-text">
                            Plot 405, No 88, Okumagba Avenue,<br>
                            Okumagba Layout, Warri, <br>
                            Delta State, Nigeria<br>

                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<!-- * App Capsule -->
<!-- DialogIconedSuccess -->
<div class="modal fade dialogbox" id="DialogIconedCompleted" data-backdrop="static" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-icon text-success">
                <ion-icon name="checkmark-circle"></ion-icon>
            </div>
            <div class="modal-header">
                <h5 class="modal-title">Success</h5>
            </div>
            <div class="modal-body">
                Message sent successfuly!
            </div>
            <div class="modal-footer">
                <div class="btn-inline">
                    <a href="#" class="btn" data-dismiss="modal">CLOSE</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- * DialogIconedSuccess -->
<!-- DialogIconedDanger -->
<div class="modal fade dialogbox" id="DialogIconedAllFieldsDanger" data-backdrop="static" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-icon text-danger">
                <ion-icon name="close-circle"></ion-icon>
            </div>
            <div class="modal-header">
                <h5 class="modal-title">Error</h5>
            </div>
            <div class="modal-body">
                All fields are required. please try again.
            </div>
            <div class="modal-footer">
                <div class="btn-inline">
                    <a href="#" class="btn" data-dismiss="modal">CLOSE</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- * DialogIconedDanger -->
<!-- DialogIconedDanger -->
<div class="modal fade dialogbox" id="DialogIconedDanger" data-backdrop="static" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-icon text-danger">
                <ion-icon name="close-circle"></ion-icon>
            </div>
            <div class="modal-header">
                <h5 class="modal-title">Error</h5>
            </div>
            <div class="modal-body">
               Message not sent. please try again.
            </div>
            <div class="modal-footer">
                <div class="btn-inline">
                    <a href="#" class="btn" data-dismiss="modal">CLOSE</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- * DialogIconedDanger -->
<!-- Modal Basic -->
<div class="modal fade modalbox" id="ModalBasic" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Procedure for Transactions on Brigho</h5>
                <a href="javascript:;" data-dismiss="modal">Close</a>
            </div>
            <div class="modal-body">
                <p>
                    <strong class="section-title color-green-dark">
                        Procedure
                    </strong>
                </p>
                <p>
                    Before using this App, it is expected that the Buyer and Seller have already agreed on modalities including cost of items/goods, cost of shipping/delivery/transportation, means of transportation and point of collection. Below are the procedures after these above have been agreed.
                </p>
                <p>
                    <ul>
                        <li>
                            The Seller uses the Brigho app to start the process of the transaction by clicking the PLUS bottom on the Seller’s Dashboard.
                        </li>
                        <li>
                            Seller inputs his details including Banking details (which will be credited soon as the transaction is completed), his/her phone number (which will be used in communication between all transactional parties); the Buyer’s phone number (which will be used in communication between all transactional parties); the agreed Price of the item/good and the agreed cost of shipping/delivery/transportation.
                        </li>
                        <li>
                            The app will automatically calculate our commission. See our ToC&U. The app will also calculate the total cost of the transaction.
                        </li>
                        <li>
                            The Seller then submits the transaction for approval by the Buyer.
                        </li>
                        <li>
                            Brigho will instantly send a Transaction Number to the Buyer. The Buyer will use this code to approve the transaction as well as track its status.
                        </li>
                        <li>
                            The Buyer then views the transaction entered by the Seller.
                        </li>
                        <li>
                            If the Buyer is okay with the details of the transaction entered by the Seller, he or she then verifies then accepts the transaction and is immediately redirected to a secured page for payment.
                        </li>
                        <li>
                            After payment in made the Buyer will receive a Delivery Number. This code shall be used only to claim the goods/items.
                        </li>
                        <li>
                            At the point of collecting the goods, the Buyer still has the last option of declining the goods if he or she is dissatisfied with the items/goods. It is extremely important that the Buyer Verifies the Delivery Number at the point of collection. See our ToC&U and FAQ. Both the Buyer and Seller must see to this See our ToC&U.
                        </li>
                        <li>
                            Should the Buyer be satisfied with the items/goods sent by the Seller, it is expected that the Buyer clicks on the “Satisfied. Pay the Seller” button.
                        </li>
                        <li>
                            Once the Delivery Number has been verified and the Buyer has clicked the “Satisfied. Pay the Seller” button, Brigho will pay the money accrued from the transaction straight into the appropriate bank account(s).
                        </li>
                        <li>
                            Should the Buyer be dissatisfied with the items/goods sent by the Seller, it is expected that the Buyer declines the transaction by clicking on the “Not Satisfied. Please Refund” button
                        </li>
                        <li>
                            The app will then display a breakdown of the amount to be refunded. The Buyer then confirms the refund and Brigho will refund the appropriate amount due the Buyer.
                        </li>
                    </ul>
                </p>
            </div>
        </div>
    </div>
</div>
<!-- * Modal Basic -->

<script>
    var uri = "http://medicall-002-site7.ctempurl.com/api/ahhtapi";//
    //var uri = "http://localhost:49244/api/ahhtapi";
    var btnSendMessage = function () {
        var user = {
            Name: $("#name2").val(),
            Email: $("#email2").val(),
            MessageBody: $("#textarea2").val()
        };
        if (user.Name == "" || user.Email == "" || user.MessageBody == "") {
            $("#DialogIconedAllFieldsDanger").modal('show');
        } else {
            SendMessage(user);
        }
    }


    const SendMessage = async (user) => {
        try {
            $("#btnSendMessage").addClass('hidden');
            $("#btnProgress").removeClass('hidden');

            const options = {
                method: 'POST',
                body: JSON.stringify(user),
                headers: {
                    'Content-Type': 'application/json'
                }
            }

            const res = await fetch(uri + "/sendmessage?code=" + user.RecoveryCode, options);
            if (!res.ok) {
                $("#DialogIconedDanger").modal('show');
                $("#btnSendMessage").removeClass('hidden');
                $("#btnProgress").addClass('hidden');
            }
            const data = await res.json();
            console.log(data);

            if (data == true) {
                $("#DialogIconedCompleted").modal('show');
                $("#btnSendMessage").removeClass('hidden');
                $("#btnProgress").addClass('hidden');
            }
            else {
                $("#DialogIconedDanger").modal('show');
                $("#btnSendMessage").removeClass('hidden');
                $("#btnProgress").addClass('hidden');
            }
        } catch (error) {

            $("#DialogIconedDanger").modal('show');
            $("#btnSendMessage").removeClass('hidden');
            $("#btnProgress").addClass('hidden');
        }
    }
</script>